# kinopoisk
Для запуска необходимо запустить проект в Android Studio и добавить в local.properites следующую строку
API_KEY="token"
Вместо token подставить свой токен.

Проблемы:
- Я знаю, что токен нужно прятать в local.properties, но не знал как это делать. Загуглил и сделал реализацию через чтение файла local.properties и загрузку токена в BuildConfig
- Настраивал даггер и nav_graph одновременно, поэтому при краше непонятно, что надо было исправлять - Убирал части кода, чтобы понять, что не так. В итоге понял, что даггер нужно изучать углубленнее, там была проблема с настройкой его, модули, сабкомпоненты и inject в Fragment. - Открыл доку оффициальную, смотрел, как они делают в многомодульных проектах, не сработало, поэтому просто пробовал, исходя из логики, что падает и почему.
- При добавлении фильтров, я решил удалить изначальный список и скачивать уже с фильтром с бэка. Но как это было прокинуть в load в PagingSource я не понял сразу. Сначала решил прокидывать параметр в конструктор класса PagingSource и пересоздавать, когда применяю фильтры. Если применять фильтры по кнопке, то мне кажется это норм решением. После я подумал, что можно просто добавить функцию, которая будет менять параметры в PagingSource классе и не нужно ничего пересоздавать. Попробовал эти варианты, они не работают. Поэтому пришлось добавить StateFlow, который хранит Flow<PagingSource<Data>>

Что не успел, но хотел бы добавить:
- Сервер иногда не возвращает ответ, тут можно делать повторный запрос на автомате
- Улучшить UI: добавить скругления, фон, фильтры в отдельное окно и в выборе не оставлять TextView, а сделать выбор с поиском
- Улучшить обработку ошибок, лучше отображать их
- Refactoring
